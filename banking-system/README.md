# Задание на практику: Банковская микросервисная система

## 1. Общая структура проекта

banking-system
    config-server         # Сервер конфигурации
    eureka-server         # Сервер обнаружения сервисов
    api-gateway           # API Gateway
    client-service        # Сервис клиентов
    deposit-service       # Сервис депозитов
    loan-service          # Сервис кредитов
    docker-compose.yml    # Конфигурация Docker

## 2. Общий микросервис - Client Service

**Назначение**: Базовый сервис для работы с клиентами банка  
*Обязателен к реализации перед основными заданиями.*

### Функциональные требования:
* CRUD операции для клиентов банка
* Поиск клиентов по различным параметрам 
* Валидация данных клиента
* Проверка на дубликаты по ключевым полям
* Управление статусами клиентов
* Ведение истории изменений данных клиента

### Структура данных клиента:
* ID
* Имя, Фамилия, Отчество
* Дата рождения
* Паспортные данные
    * Серия и номер
    * Дата выдачи
    * Кем выдан
    * Код подразделения
* Контактная информация 
    * Email (уникальный)
    * Телефон (уникальный)
* Адрес регистрации
    * Индекс
    * Регион
    * Город
    * Улица
    * Дом, квартира
* Статус клиента (ACTIVE, BLOCKED, SUSPENDED)
* Дата регистрации в системе
* История изменений

## 3. Задание для практиканта 1 - Deposit Service

**Назначение**: Сервис для работы с депозитными договорами

### Функциональные требования:
* CRUD операции для депозитных договоров
* Интеграция с Client Service для получения данных о клиенте
* Проверка возможности заключения договора
* Операции по договору (пополнение, частичное снятие, закрытие)
* Расчет процентов
* Ведение истории операций
* Формирование выписок по договору

### Структура депозитного договора:
* ID
* Client ID (связь с Client Service)
* Номер договора (уникальный)
* Тип депозитного продукта
* Сумма договора
* Процентная ставка
* Срок действия договора
* Дата заключения
* Дата окончания
* Статус договора (ACTIVE, CLOSED, SUSPENDED)
* История операций по договору
* Условия договора
    * Возможность пополнения
    * Возможность частичного снятия
    * Минимальная сумма остатка
    * Периодичность выплаты процентов

## 4. Задание для практиканта 2 - Loan Service

**Назначение**: Сервис для работы с кредитными договорами

### Функциональные требования:
* CRUD операции для кредитных договоров
* Интеграция с Client Service для получения данных о клиенте
* Проверка возможности заключения договора
* Операции по договору (выдача кредита, прием платежей, закрытие)
* Расчет графика платежей
* Контроль просрочек и начисление штрафов
* Формирование выписок по договору

### Структура кредитного договора:
* ID
* Client ID (связь с Client Service)
* Номер договора (уникальный)
* Тип кредитного продукта
* Сумма кредита
* Процентная ставка
* Срок кредита
* Дата заключения
* Дата окончания
* Статус договора (ACTIVE, CLOSED, OVERDUE)
* График платежей
* История платежей
* Текущая задолженность
* Условия договора
    * Возможность досрочного погашения
    * Условия штрафов
    * Льготный период
    * Размер ежемесячного платежа

## 5. Технические требования

### Стек технологий:
* Java 21
* Spring Boot 3.x
* Spring Cloud
    * Eureka (Service Discovery)
    * Config Server
    * Gateway
* Spring Data JPA
* PostgreSQL
* Docker + Docker Compose
* Maven

### Архитектурные требования:
* REST API
* Микросервисная архитектура
* Service Discovery через Eureka
* Централизованная конфигурация через Config Server
* API Gateway как единая точка входа
* Распределенное логирование

### Docker-инфраструктура:
* Отдельный контейнер для каждого сервиса
* Отдельный контейнер для каждой БД
* Docker Compose для локального развертывания
* Настройка сетевого взаимодействия между контейнерами
* Persistence Volume для БД
* Health-check для сервисов

## 6. План выполнения

### 1. Этап подготовки (общий):
* Создание общего репозитория
* Настройка базовой инфраструктуры
    * Config Server
    * Eureka Server
    * API Gateway
* Реализация Client Service
    * Разработка API
    * Реализация бизнес-логики
    * Написание тестов
    * Документирование

### 2. Этап разработки (параллельно):
* Практикант 1: Разработка Deposit Service
* Практикант 2: Разработка Loan Service

### 3. Этап интеграции:
* Настройка взаимодействия между сервисами
* Интеграционное тестирование
* Документирование API

### 4. Этап развертывания:
* Подготовка Docker-образов
* Настройка Docker Compose
* Тестирование развертывания
* Подготовка инструкций по развертыванию